// ############################################################################
// Component: SHATTER
// ############################################################################

.shell-shatter {
  // Sadly, this experiment will not work in FireFox.
  display: block;
  position: absolute;
  z-index: 1;
  height: 100%;
  width: 100%;
  opacity: 0.2;
}

$color-base: $color-body;

$increment: 2;
$incrementAnim: 500;
@for $i from 1 through 14 {
  .l:nth-child( #{$i} ) {
    $col: $i * $increment;
    background-color: darken($color-body, $col);
    animation-duration: #{($i * $incrementAnim)}ms;
  }
}

@keyframes fadein {
  from {
    transform: scale(1.1);
  }
  to {
    transform: scale(1);
  }
}

@mixin poly($p1, $p2, $p3) {
  -webkit-clip-path: polygon($p1, $p2, $p3);
  clip-path: polygon($p1, $p2, $p3);
}

.l {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2;
  transition: 1s;
  width: 100%;
  height: 100%;
  transform: scale(1);
  animation: fadein ease-in-out infinite;
  animation-direction: alternate;
  animation-fill-mode: forwards;
}

.l1 {
  @include poly(53.44% 1.43%, 35.94% 3.85%, 77.99% 7.45%);
  .over & {
    @include poly(57.02% 0, 52.6% 51.58%, 31.18% 0%);
  }
}
.l2 {
  @include poly(31.47% 5.29%, 79.9% 8.96%, 16.77% 26.85%);
  .over & {
    @include poly(0% 0%, 30.18% 0%, 51.83% 51.68%);
  }
}
.l3 {
  @include poly(70.36% 13.61%, 82.63% 12.1%, 70.36% 24.77%);
  .over & {
    @include poly(57.94% 0%, 100% 0%, 53.45% 51.6%);
  }
}
.l4 {
  @include poly(57.42% 17.42%, 67.94% 14.43%, 67.94% 21.49%);
  .over & {
    @include poly(54.11% 52.2%, 100% 1.42%, 100% 82.66%);
  }
}
.l5 {
  @include poly(39.46% 22.19%, 26% 47.9%, 17.78% 28.49%);
  .over & {
    @include poly(51.52% 52.16%, 0% 78.59%, 0% 1.58%);
  }
}
.l6 {
  @include poly(37.57% 30.72%, 81.58% 67.7%, 27.14% 50%);
  .over & {
    @include poly(0% 79.31%, 0% 100%, 51.9% 52.71%);
  }
}
.l7 {
  @include poly(51.86% 39.74%, 66.74% 45.73%, 74.83% 59.13%);
  .over & {
    @include poly(53.43% 52.54%, 100% 83.7%, 78.61% 100%);
  }
}
.l8 {
  @include poly(70.83% 48.69%, 80.1% 56.67%, 81.24% 64.65%);
  .over & {
    @include poly(80.13% 100%, 100% 100%, 100% 84.73%);
  }
}
.l9 {
  @include poly(79.44% 81.44%, 59.97% 62.79%, 82.71% 69.81%);
  .over & {
    @include poly(39.97% 100%, 1.43% 100%, 52.14% 53.35%);
  }
}
.l10 {
  @include poly(62.31% 68.52%, 77.93% 82.58%, 65.12% 81.59%);
  .over & {
    @include poly(53% 53%, 77.55% 100%, 57.96% 100%);
  }
}
.l11 {
  @include poly(68.58% 92.82%, 65.72% 84%, 77.69% 84.64%);
  .over & {
    @include poly(52.55% 53.4%, 55.06% 79.57%, 45.88% 79.57%);
  }
}
.l12 {
  @include poly(61.1% 77.33%, 66.5% 93.81%, 44.47% 97.95%);
  .over & {
    @include poly(45.36% 80.25%, 55.08% 80.25%, 55.85% 87.44%);
  }
}
.l13 {
  @include poly(54.84% 81.33%, 42.27% 97.88%, 15.65% 87.33%);
  .over & {
    @include poly(40.61% 100%, 45.42% 81.02%, 55.97% 87.94%);
  }
}
.l14 {
  @include poly(27.01% 73.36%, 39.15% 81.46%, 14.87% 85.01%);
  .over & {
    @include poly(56.12% 88.63%, 57.15% 100%, 41.71% 100%);
  }
}
